<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
    <meta content='width=device-width, initial-scale=1' name='viewport'>
    <meta content='Federico Weber' property='og:title'>
    <meta content='Designer &amp; Developer, handcrafting websites &amp; apps.' property='og:description'>
    <link href='/feed.xml?utm_source=fwd&amp;utm_medium=feed&amp;utm_campaign=feed_subscribers' rel='alternate' type='application/atom+xml'>
    <link href='/favicon.ico' rel='icon' type='image/ico'>
    <title>Notes – Federico Weber</title>
    <link href="../assets/style/application.css" rel="stylesheet" />
  </head>
  <body class='notes notes_p2'>
    <div id='wrapper'>
      <header id='main_header'>
        <div id='main_header--content'>
          <nav id='main_nav'>
            <h1 id='main_header--title'>
              <a href='/'>Federico Weber</a>
            </h1>
            <ol>
              <li>
                <a href='/about_me'>about me</a>
              </li>
              <li>
                <a class='-active' href='/notes'>notes</a>
              </li>
              <li>
                <a href='https://www.goodreads.com/user/show/17488758-federico' target='_blank'>reading</a>
              </li>
            </ol>
            <div id='main_nav--marker'></div>
          </nav>
        </div>
      </header>
      <div class='main_content'>
        <section id='notes'>
          <h1 class='-hide_text'>
            <a href='/notes'>Notes</a>
          </h1>
          <ol class='notes_collection'>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/skateboard_video_drone.html">Firefly, a skateboarding movie shooted with a drone</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-12-12 00:00:00 UTC'>December 2012</time>
                    <a class='note--meta--source_url' href='http://www.theverge.com/2012/12/11/3755204/firefly-hexacopter-skateboarding-video' title='source'>
                      <i class='fa fa-external-link'></i>
                    </a>
                  </div>
                </header>
                <div class='article--body'>
                  <iframe src="http://player.vimeo.com/video/55094977?color=ffffff" width="658" height="370" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/css3_images.html">Smart images responsive crop with CSS3</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-12-04 00:00:00 UTC'>December 2012</time>
                    <a class='note--meta--source_url' href='http://designshack.net/articles/css/focal-point-intelligent-cropping-of-responsive-images/' title='source'>
                      <i class='fa fa-external-link'></i>
                    </a>
                  </div>
                </header>
                <div class='article--body'>
                  <p>Explore the source code on Github</p>
                  
                  <p>[github]https://github.com/adamdbradley/focal-point#readme</p>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/videogames_Crysis3.html">Behind The Scenes of Crysis 3</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-12-01 00:00:00 UTC'>December 2012</time>
                    <a class='note--meta--source_url' href='http://www.youtube.com/watch?v=rdGmH2AFvQo&amp;feature=youtu.be' title='source'>
                      <i class='fa fa-external-link'></i>
                    </a>
                  </div>
                </header>
                <div class='article--body'>
                  <iframe width="658" height="370" src="http://www.youtube.com/embed/rdGmH2AFvQo" frameborder="0" allowfullscreen></iframe>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/art_experience.html">Rain Room at the Barbican</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-11-20 00:00:00 UTC'>November 2012</time>
                    <a class='note--meta--source_url' href='http://random-international.com/work/rainroom/' title='source'>
                      <i class='fa fa-external-link'></i>
                    </a>
                  </div>
                </header>
                <div class='article--body'>
                  <iframe src="http://player.vimeo.com/video/51830893?title=0&amp;byline=0&amp;portrait=0&amp;badge=0&amp;color=ffffff" width="657" height="369"  frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
                  
                  <blockquote>
                  <p>Rain Room is a hundred square metre field of falling water through which it is possible to walk, trusting that a path can be navigated, without being drenched in the process.</p>
                  </blockquote>
                  
                  <p>A simple yet amazing concept well executed by <a href="http://random-international.com">Randon International</a>. This is truly the kind of experience in which technology become magic.</p>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/pogonotomy.html">My quest to Pogonotomy</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-11-18 14:48:58 UTC'>November 2012</time>
                  </div>
                </header>
                <div class='article--body'>
                  <h2>The art of wet shaving</h2>
                  
                  <p>My father taught me to shave with a Bic disposable razor and canned foam when I was 14; and for my 16th birthday I received as a present from Gillette, a free Mac3<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup> that become my shaving razor for almost a decade.
                  The experience of shaving with it was far from ideal, my neck used to be filled with ingrown hairs and razors burns and I grow up believing that I&rsquo;ve been cursed with a delicate skin.</p>
                  
                  <h3>Electric shaving</h3>
                  
                  <p>For Christmas of 2008 my parents gifted me an electric shaver, a shining multi-purpose Braun Cruzer3. As awesome as it look this shaver can be really useful for trimming and refining intricate beard styles but, being almost beardless, I used that to completely shave myself. 
                  The shaving experience with the Cruzer3 have been, if possible, even worst. I&rsquo;ve kept using it for almost six months, hoping that my beard will adapt, before giving up.</p>
                  
                  <h3>More blades are better</h3>
                  
                  <p>On that time I decide that my old Mac3 already got enough miles and I bought a Gillette Fusion<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> and switched to shaving gel in place of the canned foam.</p>
                  
                  <p>I must admit that the overall shaving experience improved quite a bit, but the shaving costs grown out of control. 
                  To prevent razor burns I had to replace the shaving head every two week, and with a costs of €4,50 each, my beard used to cost me almost €100 a year in blades.</p>
                  
                  <h3>Shaved by a professional</h3>
                  
                  <p>On october of 2011 my wife got pregnant and we decided to move to a proper<sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup> apartment in the city center. On the new neighborhood we discovered a small barber shop whose owner, a gentle man from Naples on its 70&rsquo;s, use to provide old manner shaving service with a Shavette razor<sup id="fnref4"><a href="#fn4" rel="footnote">4</a></sup>, pre-shave balm and hand mounted foam.
                  That have been by far one of the best shaving experience at that point, and settled the benchmark for all of the following ones.
                  The shaving foam was soft and warm and the razor glided over my tightened skin producing a resolute sound while trimming the whiskers. The result was a smooth and relaxed face on which the beard refused to grown back for the following three days.</p>
                  
                  <h3>The Straight Razor</h3>
                  
                  <p>After that experience I&rsquo;ve grown interested in Straight Razors<sup id="fnref5"><a href="#fn5" rel="footnote">5</a></sup>, and with my great pleasure, my Father in Law, in accord with my Wife, gave me as a present, for my 29th birthday, a huge 7/8 Straight Razor from Filarmonica<sup id="fnref6"><a href="#fn6" rel="footnote">6</a></sup> and a leather strop.
                  My first shave with that razor was a mess, I recursively cutted my self badly, and my skin was so sore that I&rsquo;ve been not able to shave for almost a week. 
                  The experience was so bad that I almost give up, but the memories of that one amazing shave I got in that small barber shop in Milan persuaded me to endure on the path. </p>
                  
                  <h3>Going pro</h3>
                  
                  <p>After that first terrible shave it&rsquo;s passed almost one year. In this time  I bought a smaller, shave-ready, razor(5/8 roundpoint Astrale from Dovo); learned how to prepare my face, lather the shaving cream; and take care of my razor.</p>
                  
                  <p>Now days razors burns and ingrown hairs are distant nightmare, I rarely cut myself and I&rsquo;m able to achieve a wonderful shave that is almost on par with the one I got in that barber shop. But more important than that is the transformation of a painful daily routine in an awesome ritual that I enjoy twice a week and I&rsquo;m on a long life path to hone my skills in the art of pogonotomy.</p>
                  
                  <p>If you liked what you read please follow me on <a href="http://twitter.com/FedericoWeber">Twitter</a> or <a href="https://alpha.app.net/federicoweber">ADN</a>.</p>
                  
                  <div class="footnotes">
                  <hr>
                  <ol>
                  
                  <li id="fn1">
                  <p>The Gillette Mach3 is a line of safety razors produced by Gillette and introduced in 1998 after more than $750 million in research and development costs. Gillette used to ship free Mac3 razors as an advertisement around 1999. <a href="http://en.wikipedia.org/wiki/Gillette_Mach3">Source</a>&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  <li id="fn2">
                  <p>The Gillette Fusion is a five-bladed razor released in 2006. The Fusion has five blades on the front, and a single sixth blade on the rear for precision trimming.&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  <li id="fn3">
                  <p>We used to live in a nice multi level loft in the suburb, and we were imagining our baby jumping out from the open first floor as soon as she start crawling around.&nbsp;<a href="#fnref3" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  <li id="fn4">
                  <p>A Shavette is a straight razor that takes disposable blades. This is the kind of razor barbers use over a straight razor for hygienic reasons.&nbsp;<a href="#fnref4" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  <li id="fn5">
                  <p>A straight razor is a razor with a blade that can fold into its handle. They are also called open razors and cut-throat razors. <a href="http://en.wikipedia.org/wiki/Straight_razor">Source</a>&nbsp;<a href="#fnref5" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  <li id="fn6">
                  <p>I later discovered that the brand was a prestigious one from Spain. But it closed out around 1990 and the Razor I got is currently produced in some unknown factory, with an unknown blend of steel and it&rsquo;s almost impossible to hone.  &nbsp;<a href="#fnref6" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  </ol>
                  </div>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/display_tech.html">Super Retina display</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-11-09 00:00:00 UTC'>November 2012</time>
                    <a class='note--meta--source_url' href='http://www.diginfo.tv/v/12-0208-r-en.php#.UJt9vHUyNmo.twitter' title='source'>
                      <i class='fa fa-external-link'></i>
                    </a>
                  </div>
                </header>
                <div class='article--body'>
                  <blockquote>
                  <p>Japan Display has developed a prototype 651ppi LCD panel. First announced in June 2012, this display has a resolution of 1280x800 pixels, equivalent to that in a regular notebook PC, but in a screen size of only 2.3 inches</p>
                  </blockquote>
                  
                  <p>Now imagine an iPad mini equipped with one of those.</p>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/video_making.html">The art of making</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-10-08 00:00:00 UTC'>October 2012</time>
                    <a class='note--meta--source_url' href='http://vimeo.com/43005056' title='source'>
                      <i class='fa fa-external-link'></i>
                    </a>
                  </div>
                </header>
                <div class='article--body'>
                  <iframe src="http://player.vimeo.com/video/43005056?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff" width="657" height="369" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/programming_web.html">Validating your Local Storage Data</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-10-01 00:00:00 UTC'>October 2012</time>
                  </div>
                </header>
                <div class='article--body'>
                  <p>Local storage is a powerfull tool to cache data computed by web apps for later reuse or non critical persistency<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>. For example I do used it on a recent project, to reduce both the data loaded from the server and the computational cost of sorting a huge list of articles by filters.</p>
                  
                  <p>Cause the local storage will persiste on the browser for a long time to safely use this data we have to be sure that they are reliable and up to date. Usually the data can get useless for two main reasons: they are based on data produce by the server, that has been updated; or they have been stored by a previous version of the web app which data model have long changed.</p>
                  
                  <h2>Getting the timestamp</h2>
                  
                  <p>To check the data against the server a good option is to have it provide a timestamp<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> for the latest time the data have been changed. </p>
                  
                  <p>If the web page, is rendered by the same server we are getting the data from, we can pass this information around as a <strong>Custom data attributes</strong> in the DOM element that hold the app.</p>
                  <pre class="highlight html"><code><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"appHolder"</span> <span class="na">data-timestamp=</span><span class="s">"2012-10-02T20:17:08.780Z"</span><span class="nt">&gt;&lt;/div&gt;</span>
                  </code></pre>
                  
                  <p>Otherwise, if the data are coming from a different server, we can get the information as a lightweight JSON.</p>
                  <pre class="highlight json"><code><span class="p">{</span><span class="nt">"updated"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2012-10-02T18:30:30.179Z"</span><span class="w"> </span><span class="p">}</span><span class="w">
                  </span></code></pre>
                  
                  <h2>Versioning your web app</h2>
                  
                  <p>To match the data against an updated version of your app the best option is to have a the version number as constant in your app namespace, and save it with your data on the Local Storage.</p>
                  <pre class="highlight javascript"><code><span class="nx">myApp</span> <span class="o">=</span> <span class="p">{};</span> <span class="nx">myApp</span><span class="p">.</span><span class="nx">VERSION</span> <span class="o">=</span> <span class="s2">"0.0.4"</span><span class="p">;</span>
                  </code></pre>
                  
                  <h2>Wrapping it up</h2>
                  
                  <p>It&rsquo;s best to run this test as soon as the app is inited, if both of this test succeed you are usually safe to trust the stored data, otherwise it&rsquo;s reccomended to recreate it.</p>
                  
                  <p>With non critical persistency I intend any kind of data that can be reconstructed without causing damages or requiring serius effort from the end user. Like a precompiled set of filters for a search.</p>
                  
                  <div class="footnotes">
                  <hr>
                  <ol>
                  
                  <li id="fn1">
                  </li>
                  
                  <li id="fn2">
                  <p>Although not mandatory I reccomend you to store this data in the ISO format <em>&ldquo;2012-10-02T20:17:08.780Z&rdquo;</em> to better reuse it in javascript passing it as an argument of a new Date object.&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  </ol>
                  </div>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/tutorial_backbone_pantarhei_javascript.html">Front end middleware with Backbone and PantaRhei</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-09-25 00:00:00 UTC'>September 2012</time>
                  </div>
                </header>
                <div class='article--body'>
                  <h2>A middleware primer</h2>
                  
                  <p>The first time I&rsquo;ve stumbled upon  the middleware pattern it was in <a href="http://expressjs.com">Express.js</a>, while developing the backend for <a href="http://federicoweber.com/gestaltapp/20120625-142551-pi-3-introducinggestalt">Gestalt</a>. </p>
                  
                  <p>The concept of middleware it&rsquo;s quite straight forward, it&rsquo;s nothing more than a function that handle a request. What make it so interesting is the possibility to create a stack of middleware. By doing so each middleware will be able to process the request, and call the next one in the stack.</p>
                  
                  <p>A typical middleware will look like this:</p>
                  <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
                      <span class="c1">// all your logic goes in here</span>
                  
                      <span class="c1">// proceed to the next middleware</span>
                      <span class="nx">next</span><span class="p">();</span>
                  <span class="p">};</span>
                  </code></pre>
                  
                  <p>If a middleware have to signal an error, it can do so passing it to the first argument of the next().</p>
                  <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">bar</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
                      <span class="c1">// signal an error</span>
                      <span class="nx">next</span><span class="p">(</span> <span class="s2">"Something went wrong!"</span> <span class="p">);</span>
                  <span class="p">};</span>
                  </code></pre>
                  
                  <p>To append a stack of middleware to a request in <a href="http://www.senchalabs.org/connect/">Connect</a> you have to declare them with the <strong>use</strong> method<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>.</p>
                  <pre class="highlight javascript"><code><span class="c1">// Example from http://www.senchalabs.org/connect/</span>
                  <span class="kd">var</span> <span class="nx">app</span> <span class="o">=</span> <span class="nx">connect</span><span class="p">()</span>
                      <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">connect</span><span class="p">.</span><span class="nx">logger</span><span class="p">(</span><span class="s1">'dev'</span><span class="p">))</span>
                      <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">connect</span><span class="p">.</span><span class="kr">static</span><span class="p">(</span><span class="s1">'public'</span><span class="p">))</span>
                      <span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">){</span>
                          <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">(</span><span class="s1">'hello world\n'</span><span class="p">);</span>
                      <span class="p">})</span>
                      <span class="p">.</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">);</span>
                  </code></pre>
                  
                  <p>What I really like about this pattern is that by simply reading the <strong>use</strong> stack you can get a grip on the logics behind the application. Also structuring your application as a cascade of middleware you are encouraged to split it in small,  self contained, modules and avoid nasty callbacks. With the added benefit of a enhancing both the readability maintainability of your code.</p>
                  
                  <h2>Introducing PantaRhei.js</h2>
                  
                  <p><a href="http://github.com/federicoweber/PantaRhei">PantaRhei.js</a> is my front end implementation of the middleware pattern . I structured it as an extension for <a href="http://backbonejs.org">Backbone.js</a> because it is awesome, I&rsquo;m using it on the wast majority of my projects, and I want to leverage it&rsquo;s <strong>Events</strong> module and the simple inheritance style provided by the <strong>extend()</strong> method. </p>
                  
                  <p>PantaRhei is written in CoffeeScript and distributed with the MIT license. You can find the coffeescript sources and the compiled and minified javascript files on <a href="http://github.com/federicoweber/PantaRhei">Github</a>. </p>
                  
                  <p>The purpose of PantaRhei is to ease the creation and the execution of queues of tasks, like fetching and manipulating data, managing the transitions between pages and so on.
                  Right now PantaRhei is composed by two modules: the <strong>Flow</strong>, that is responsible for the execution of the queue and the <strong>Worker</strong>, that describe one of the possible structure of middleware<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup> that the Flow can handle.</p>
                  
                  <h3>The Worker</h3>
                  
                  <p>The <strong>Worker</strong> module is more a convention than a real module, and it&rsquo;s meant to be extended. 
                  It describe two methods: the former is the <strong>run</strong> it&rsquo;s invoked by the Flow to execute the worker and accept a <strong>shared</strong> object ( which purpose is to act as a place for workers to share data ) and the <strong>next</strong> callback as arguments; the latter is the <strong>kill</strong>, that is invoked by the Flow when the worker execution is completed to safely remove it.
                  The worker constructor also accept an option <strong>id</strong> as an argument.</p>
                  
                  <p>To create a new Worker you need to extend it and implement it&rsquo;s methods:</p>
                  <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">Delay</span> <span class="o">=</span> <span class="nx">PantaRhei</span><span class="p">.</span><span class="nx">Worker</span><span class="p">.</span><span class="nx">extend</span><span class="p">({</span>
                      <span class="na">constructor</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">duration</span><span class="p">,</span> <span class="nx">id</span><span class="p">){</span>
                          <span class="k">this</span><span class="p">.</span><span class="nx">duration</span> <span class="o">=</span> <span class="nx">duration</span><span class="p">;</span>
                          <span class="k">this</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span>
                      <span class="p">},</span>
                      <span class="na">run</span><span class="p">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">shared</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
                          <span class="nx">onTimeout</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
                              <span class="nx">next</span><span class="p">();</span>
                          <span class="p">};</span>
                          <span class="nx">setTimeout</span><span class="p">(</span><span class="nx">onTimeout</span><span class="p">,</span> <span class="nx">duration</span><span class="p">);</span>
                      <span class="p">},</span>
                      <span class="na">kill</span><span class="p">:</span> <span class="kd">function</span><span class="p">(){</span>
                          <span class="c1">// all your logics to remove the worker</span>
                      <span class="p">}</span>
                  <span class="p">});</span>
                  
                  <span class="kd">var</span> <span class="nx">shortDelay</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Delay</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'shortDelay'</span><span class="p">);</span>
                  </code></pre>
                  
                  <p>PantaRhei also include, under the PantaRhei.workers namespace, a series of workers<sup id="fnref3"><a href="#fn3" rel="footnote">3</a></sup> JsonLoader and LoadAssets.</p>
                  
                  <h3>The Flow</h3>
                  
                  <p>The <strong>Flow</strong> module is our middleware manager, and handle for you all the logic to create and run the queue.
                  To create a new flow all you have to do is to call it&rsquo;s constructor and optionally pass two parameters: an <strong>id</strong> and a array containing the list of <strong>workers</strong> to use.</p>
                  <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">flow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PantaRhei</span><span class="p">.</span><span class="nx">Flow</span><span class="p">(</span> <span class="s1">'myFirstFlow'</span><span class="p">,</span> <span class="p">[</span><span class="nx">task1</span><span class="p">,</span> <span class="nx">task2</span><span class="p">]</span> <span class="p">);</span>
                  </code></pre>
                  
                  <p>You can also append a worker to the flow passing it  as an argument of the <strong>use</strong> method.</p>
                  <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">task1</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">shared</span><span class="p">,</span> <span class="nx">next</span><span class="p">){</span>
                          <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span> <span class="s2">"task one completed"</span> <span class="p">);</span>
                          <span class="nx">next</span><span class="p">();</span>
                      <span class="p">},</span>
                  <span class="nx">flow</span> <span class="o">=</span>  <span class="k">new</span> <span class="nx">PantaRhei</span><span class="p">.</span><span class="nx">Flow</span><span class="p">(</span> <span class="p">);</span>
                  <span class="nx">flow</span><span class="p">.</span><span class="nx">use</span><span class="p">(</span><span class="nx">task1</span><span class="p">);</span>
                  </code></pre>
                  
                  <p>To execute the flow you have to invoke the <strong>run</strong> method. The flow can also accept an optional <strong>shared</strong> object. This is passed around to all the workers in the queue and it&rsquo;s returned by the flow on complete, it&rsquo;s actually the place for storing and passing data between workers. If this is not provided the Flow will create a empty object to use. </p>
                  <pre class="highlight javascript"><code><span class="c1">// create our workers</span>
                  <span class="kd">var</span> <span class="nx">task1</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">shared</span><span class="p">,</span> <span class="nx">next</span><span class="p">){</span>
                      <span class="nx">shared</span><span class="p">.</span><span class="nx">data</span> <span class="o">=</span> <span class="s2">"the data have been processed"</span>
                      <span class="nx">next</span><span class="p">();</span>
                  <span class="p">},</span>
                  <span class="nx">task2</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">shared</span><span class="p">,</span> <span class="nx">next</span><span class="p">){</span>
                      <span class="nx">shared</span><span class="p">.</span><span class="nx">newData</span> <span class="o">=</span> <span class="s2">"we got some new data for you"</span>
                      <span class="nx">next</span><span class="p">();</span>
                  <span class="p">},</span>
                  
                  <span class="c1">// create our flow and workers passing the first task on the constructor</span>
                  <span class="nx">flow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">PantaRhei</span><span class="p">.</span><span class="nx">Flow</span><span class="p">(</span>  <span class="s1">'myFirstFlow'</span><span class="p">,</span> <span class="p">[</span> <span class="nx">task1</span> <span class="p">]);</span>
                  
                  <span class="nx">flow</span>
                      <span class="c1">// append the second task</span>
                      <span class="p">.</span><span class="nx">use</span><span class="p">(</span> <span class="nx">task2</span> <span class="p">)</span>
                      <span class="c1">// run the flow</span>
                      <span class="p">.</span><span class="nx">run</span><span class="p">({</span><span class="na">data</span><span class="p">:</span> <span class="s2">"the data is new"</span><span class="p">});</span>
                  </code></pre>
                  
                  <h4>Events</h4>
                  
                  <p>PantaRhei make use of the Backbone Events, so the  Flow can dispatch the following events: run, pause, resume, error and complete. Apart from the error all the other events pass the shared object as an argument to the listener.
                  So to get notified when a flow have been successfully executed you can catch the complete event.
                  &ldquo;`javascript
                  var onComplete = function( shared ){
                      console.log(shared);
                  };</p>
                  
                  <p>flow
                      .on( &lsquo;complete&rsquo;, onComplete)
                      .run();
                  &rdquo;`</p>
                  
                  <h4>Error handling</h4>
                  
                  <p>PantaRhei leave the responsibility to properly handle the errors to you. If any of the worker in the queue pass and error to the next callback, the Flow is paused and dispatch an <strong>error</strong> event. 
                  Once you have  done with the error handling and you are ready to resume the flow you can call the <strong>resume</strong> method to move to the next worker in the queue.</p>
                  <pre class="highlight javascript"><code><span class="kd">var</span> <span class="nx">onError</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span> <span class="nx">err</span> <span class="p">){</span>
                      <span class="c1">//handle the error in here</span>
                      <span class="k">this</span><span class="p">.</span><span class="nx">resume</span><span class="p">();</span>
                  <span class="p">};</span>
                  
                  <span class="nx">flow</span>
                      <span class="p">.</span><span class="nx">on</span><span class="p">(</span> <span class="s1">'error'</span><span class="p">,</span> <span class="nx">onError</span><span class="p">)</span>
                      <span class="p">.</span><span class="nx">run</span><span class="p">();</span>
                  </code></pre>
                  
                  <p>The other one is a simple function that accept as arguments the <strong>shared</strong> object and the <strong>next</strong> callback.</p>
                  
                  <div class="footnotes">
                  <hr>
                  <ol>
                  
                  <li id="fn1">
                  <p>If you are looking for an introduction to the use of middle wares in Connect I suggest you to check this short <a href="http://stephensugden.com/middleware_guide/">guide</a> written by Stephen Sugden.&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  <li id="fn2">
                  </li>
                  
                  <li id="fn3">
                  <p>More to follow soon.&nbsp;<a href="#fnref3" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  </ol>
                  </div>
                </div>
              </article>
            </li>
            <li>
              <article class='note'>
                <header class='note--header'>
                  <h1>
                    <a href="/notes/kickstarter.html">Kickstarter is not a store</a>
                  </h1>
                  <div class='note--meta'>
                    <time datetime='2012-09-21 00:00:00 UTC'>September 2012</time>
                  </div>
                </header>
                <div class='article--body'>
                  <p>Recently there have been a lot of disillusionment about a series of successfully backed Kickstarter projects who failed to ship. Therefor Kickstarter decide to <a href="http://www.kickstarter.com/blog/kickstarter-is-not-a-store">clarify</a> their position and enforce a new series of rules especially targeted to physical product.</p>
                  
                  <blockquote>
                  <p>It&rsquo;s hard to know how many people feel like they&rsquo;re shopping at a store when they&rsquo;re backing projects on Kickstarter, but we want to make sure that it&rsquo;s no one. Today we&rsquo;re introducing a number of changes to reinforce that Kickstarter isn’t a store.</p>
                  </blockquote>
                  
                  <p>While the <strong>Risks and Challenges</strong> section is a correct move, I have mixed feelings about the new measures for Hardware and Product Design projects. Surely demanding a working prototype is a step in the right direction, but completely prohibit the 3D rendering is a poor choice. And neither of this help backers to understand if the product they are going to support can be realistically manufactured. </p>
                  
                  <h2>Working prototype</h2>
                  
                  <p>A working prototype is a necessary step for the creators to figure out how o produce a real product out of their amazing concept. But it&rsquo;s not enough to assure the backers that it&rsquo;s actually possible produce the same product in large quantity, leveraging industrial facilities, neither it&rsquo;s a good estimation of the real production costs—which can also vary by a significant amount based on the number of peaces that are going to be manufactured.</p>
                  
                  <p>Especially for complicated products that require a combination of different technologies and draconian manufacturing and distribution lines<sup id="fnref1"><a href="#fn1" rel="footnote">1</a></sup>. </p>
                  
                  <h2>Renderings and simulations</h2>
                  
                  <p>The case against rendering is a complete non sense to me. Simulations and renderings are powerful tools for creators both to  design and iterate the product and to show the backers what the product it&rsquo;s going to look like and the possible colors and trim customizations.</p>
                  
                  <h2>Is founding cap an option?</h2>
                  
                  <p>An interesting point Kickstarter raise in their post is to fix to one the amount of quantities that a project can offer to a single backer.</p>
                  
                  <blockquote>
                  <p>Offering multiple quantities of a reward is prohibited. Hardware and Product Design projects can only offer rewards in single quantities or a sensible set</p>
                  </blockquote>
                  
                  <p>This kind of choice make sense considering that over a certain amount of product to produce it could become necessary to reconsider the entire manufacturing line—that could not be convenient probably till a new order of magnitude is reached—and keep manufacturing the product using a line produced for smaller quantity is not always possible or desirable.</p>
                  
                  <p>This kind of consideration also open the road to another possibility, a founding cap. Clearly this is not something Kickstarter should force to the product, most of the projects founded don&rsquo;t have real issues with over founding, but could be a nice option that the creators can decide to adopt.</p>
                  
                  <p>Even better would be to have <strong>progressive founding goals</strong>; it&rsquo;s quite a common practice, for creators, to promise increased sets of features based on the amount of money (over the initial founding goal) the project manage to raise<sup id="fnref2"><a href="#fn2" rel="footnote">2</a></sup>. Kickstarter could officially support this kind of initiative by charging late bakers only when the next goal is reached.</p>
                  
                  <div class="footnotes">
                  <hr>
                  <ol>
                  
                  <li id="fn1">
                  <p>I do honestly doubt that the <a href="http://www.kickstarter.com/projects/ouya/ouya-a-new-kind-of-video-game-console/posts/275869">Ouya</a> will ship in time for Mar 2013.&nbsp;<a href="#fnref1" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  <li id="fn2">
                  <p>The <a href="http://www.kickstarter.com/projects/659943965/planetary-annihilation-a-next-generation-rts">Planetary Annihilation</a> project had an interesting take on this, adding game enhancements and orchestral sound track.&nbsp;<a href="#fnref2" rev="footnote">&#8617;</a></p>
                  </li>
                  
                  </ol>
                  </div>
                </div>
              </article>
            </li>
          </ol>
        </section>
        <div class='notes_collection_nav'>
          <a class='notes_collection_nav--newer' href='/notes/' title='newer notes'>
            <i class='fa fa-calendar-plus-o'></i>
          </a>
          <a class='notes_collection_nav--older' href='/notes/p3.html' title='older notes'>
            <i class='fa fa-calendar-minus-o'></i>
          </a>
        </div>
      </div>
      <footer id='main_footer'>
        <ul>
          <li>
            <a href='https://github.com/federicoweber' target='_blank' title='github'>
              <i class='fa fa-github'></i>
            </a>
          </li>
          <li>
            <a href='https://instagram.com/federicoweber' target='_blank' title='instagram'>
              <i class='fa fa-instagram'></i>
            </a>
          </li>
          <li>
            <a href='https://linkedin.com/in/federicoweber' target='_blank' title='linkein'>
              <i class='fa fa-linkedin'></i>
            </a>
          </li>
          <li>
            <a href='https://www.pinterest.com/federicoweber/' target='_blank' title='pinterest'>
              <i class='fa fa-pinterest'></i>
            </a>
          </li>
          <li>
            <a href='https://twitter.com/federicoweber' target='_blank' title='twitter'>
              <i class='fa fa-twitter'></i>
            </a>
          </li>
          <li class='-with_text -push_right'>
            <a href='mailto:federicoweber@gmail.com' title='email'>
              <span class='text'>email me</span>
              <i class='fa fa-envelope-o'></i>
            </a>
          </li>
          <li class='-with_text'>
            <a href='http://creativecommons.org/licenses/by-nc-sa/4.0/' target='_blank' title='Attribution-NonCommercial-ShareAlike 4.0 International'>
              <span class='text'>license</span>
              <i class='fa fa-creative-commons'></i>
            </a>
          </li>
        </ul>
      </footer>
    </div>
    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script><script src="../assets/js/application.js"></script>
    <link href="../assets/style/code.css" rel="stylesheet" />
    <script type="text/javascript">var _gaq=_gaq||[];_gaq.push(["_setAccount","UA-11721887-1"]),_gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src=("https:"==document.location.protocol?"//ssl":"//www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("script")[0];e.parentNode.insertBefore(t,e)}();</script>
  </body>
</html>
